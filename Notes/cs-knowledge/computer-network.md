# 컴퓨터 네트워크

## 핵심 구성 요소

1. **장치 (Device)**
  - 네트워크에 연결된 컴퓨터 또는 장치입니다.
  - 데이터를 생성, 수신, 전송, 처리할 수 있습니다.

2. **네트워크 하드웨어**
  - 스위치, 라우터, 모뎀 등의 하드웨어 장비는 데이터 패킷의 전송을 도와줍니다.
  - 이 장비들은 로컬 네트워크를 인터넷과 같은 더 큰 네트워크에 연결하는 역할 또한 수행합니다.

3. **통신 링크와 데이터 전송 방식**
  - 네트워크 장치들은 케이블(이더넷), 광섬유, 무선(Wi-Fi, Bluetooth), 위성 링크 등 다양한 방식으로 서로 연결됩니다.
  - 데이터는 디지털 신호 또는 아날로그 신호의 형태로 전송될 수 있습니다.

4. **프로토콜**
  - 데이터의 전송 방법을 정의하는 규칙의 집합입니다.
  - `TCP/IP(Transmission Control Protocol/Internet Protocol)`, `HTTP(HyperText Transfer Protocol)`, `FTP(File Transfer Protocol)` 등이 있습니다.

5. **네트워크 토폴로지와 디자인**
  - 네트워크 토폴로지는 네트워크의 물리적 또는 논리적 구조를 설명합니다.
  - 예를 들어, 스타, 링, 메쉬, 버스, 트리 등의 구조가 있습니다.

6. **네트워크 보안**
  - 방화벽, 암호화, 인증, `VPN (Virtual Private Network)` 등의 보안 기술과 프로토콜이 사용됩니다.

<br>

## TCP와 UDP의 차이

1. **TCP (Transmission Control Protocol)**
  - 연결형 서비스로, `3-way handshaking` 과정을 통해 연결을 설정하므로 높은 신뢰성을 보장합니다.
  - `3-way handshaking` 과정을 통해 연결을 설정하고, `4-way handshaking` 과정을 통해 연결을 해제합니다.
  - **패킷 교환 방식**: `가상 회선 방식` 을 사용합니다.
  - **전송 순서**: 전송 순서를 보장합니다.
  - **수신 여부 확인**: 수신 여부를 확인합니다.
  - **통신 방식**: 1:1 통신을 수행합니다.
  - **신뢰성**: 신뢰성이 높습니다.
  - **속도**: 속도가 비교적 느립니다.

2. **UDP (User Datagram Protocol)**
  - 비연결형 서비스로, 연결 설정 과정이 없으므로 신뢰성이 낮습니다.
  - **패킷 교환 방식**: `데이터그램 방식` 을 사용합니다.
  - **전송 순서**: 전송 순서가 바뀔 수 있습니다.
  - **수신 여부 확인**: 수신 여부를 확인하지 않습니다.
  - **통신 방식**: 1:1, 1:N, N:N 통신을 수행합니다.
  - **신뢰성**: 신뢰성이 낮습니다.
  - **속도**: 속도가 빠릅니다.

<br>

## Handshake

통신에서, 연결을 설정하거나 해제하는 과정을 **Handshake** 라고 합니다.

- **연결 설정**: 통신을 시작하기 전, 두 장치는 서로 연결되어 있음을 확인하고 연결을 설정합니다.
- **파라미터 협상**: 통신에 사용되는 속도, 프로토콜, 데이터 형식 등의 파라미터를 협상하고 동기화합니다.
- **인증 및 보안**: 필요한 경우, 두 장치는 인증을 하고 보안 관련 파라미터를 설정합니다.

1. **TCP 3-way handshake**
  - 총 3단계의 과정이 있다는 점을 특징으로 하여 `3-way handshake` 라고 부릅니다.
  - **SYN**: 클라이언트가 서버에 연결 요청을 보냅니다.
  - **SYN-ACK**: 서버가 연결 요청을 확인하고 클라이언트에 응답합니다.
  - **ACK**: 클라이언트가 서버의 응답을 확인하고 연결이 설정됩니다.

2. **TCP 4-way handshake**
  - 총 4단계의 과정이 있다는 점을 특징으로 하여 `4-way handshake` 라고 부릅니다.
  - **FIN**: 클라이언트가 연결을 종료하겠다는 메시지를 서버에 보냅니다.
  - **ACK**: 서버가 클라이언트의 요청을 확인하고 응답합니다.
  - **FIN**: 서버가 연결을 종료하겠다는 메시지를 클라이언트에 보냅니다.
  - **ACK**: 클라이언트가 서버의 요청을 확인하고 응답합니다.

3. **SSL/TLS Handshake**
  - 클라이언트와 서버 간의 암호화된 연결을 설정하는 과정입니다.
  - `SSL (Secure Sockets Layer)` 및 `TLS (Transport Layer Security)` 에서는 보안 파라미터 및 암호화 키를 협상하는 핸드쉐이크 과정을 진행합니다.
  - **Client Hello**: 클라이언트가 서버에 연결 요청을 보내고, 사용 가능한 암호 Suite(암호화 알고리즘 및 키 교환 방법의 조환) 및 TLS 버전을 제안합니다.
  - **Server Hello**: 서버가 클라이언트의 제안 중에서 선택한 암호 Suite 및 TLS 버전을 응답하고 인증서를 제공합니다.
  - **Client Key Exchange**: 클라이언트가 서버의 인증서를 검증하고, 서버의 공개키를 사용하여 Pre-Master Secret Key 를 생성합니다.
  - **Change Cipher Spec**: 클라이언트가 서버에게 암호화된 통신을 시작할 것임을 알리고, 암호화 키를 사용하여 통신을 암호화합니다.
  - **Server Key Exchange**: 서버가 클라이언트에게 Pre-Master Secret Key 를 생성하고, 클라이언트의 공개키를 사용하여 암호화합니다.
  - **Finished**: 클라이언트와 서버가 서로의 통신을 검증합니다.

4. **WebSocket Handshake**
  - `WebSocket` 프로토콜은 `HTTP` 기반의 핸드쉐이크를 사용하여 초기 연결을 설정합니다.
  - **Upgrade**: 클라이언트가 서버에게 `WebSocket` 연결을 요청합니다.
  - **Upgrade**: 서버가 클라이언트의 요청을 확인하고 `WebSocket` 연결을 승인합니다.
  - **Connection Established**: 클라이언트와 서버가 `WebSocket` 연결을 설정합니다.

<br>

## OSI 7계층

1. **7계층 (Application Layer, 응용 계층)**
  - 사용자에게 통신을 위한 서비스를 제공합니다. (인터페이스 역할)
  - `telnet`, `FTP`, `DHCP`, `TFTP`, `HTTP`, `SMTP`, `DNS`, `SNMP`, `POP3`, `IMAP`, `SSH` 등의 프로토콜이 있습니다.

2. **6계층 (Presentation Layer, 표현 계층)**
  - 데이터의 표현 방식을 정의합니다. (암호화, 압축, 인코딩 등)
  - `JPEG`, `MPEG`, `ASCII`, `EBCDIC` 등의 프로토콜이 있습니다.

3. **5계층 (Session Layer, 세션 계층)**
  - 통신 세션을 설정하고 유지합니다. (동시 송수신 방식, 반이중 방식, 전이중 방식 등)
  - `NetBIOS`, `RPC` 등의 프로토콜이 있습니다.

4. **4계층 (Transport Layer, 전송 계층)**
  - 데이터의 전송을 담당합니다. (흐름 제어, 오류 제어, 혼잡 제어 등, 단위: `Segment`)
  - `TCP`, `UDP`, `SPX` 등의 프로토콜이 있습니다.

5. **3계층 (Network Layer, 네트워크 계층)**
  - 데이터의 경로를 설정하고 라우팅을 수행합니다. (단위: `Packet`)
  - `IP`, `ICMP`, `ARP`, `RARP`, `OSPF` 등의 프로토콜이 있습니다.

6. **2계층 (Data Link Layer, 데이터 링크 계층)**
  - 물리적인 주소를 MAC 주소로 변환하고, 오류 검출 및 재전송을 수행합니다. (단위: `Frame`)
  - `Ethernet`, `Token Ring`, `HDLC`, `PPP` 등의 프로토콜이 있습니다.

7. **1계층 (Physical Layer, 물리 계층)**
  - 물리적인 매체를 통해 데이터를 전송합니다. (단위: `Bit`)
  - 물리적인 매체로는 케이블, 리피터, 허브 등이 있습니다.
  - `RJ45`, `RS-232C`, `V.35` 등의 프로토콜이 있습니다.