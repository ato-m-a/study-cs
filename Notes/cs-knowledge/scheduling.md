# 스케줄링

프로세스나 태스크에 대한 CPU의 시간 할당 방식을 관리하는 메커니즘 입니다.

운영 체제의 핵심 책임 중 하나는 여러 프로세스나 태스크를 효율적으로 관리하고 실행하는 것으로, 이것은 스케줄러를 통해 이루어집니다.

여러 프로세스가 번갈아 사용하는 자원을 어떤 시점에 어떤 프로세스에 할당할지 결정하는 것이 스케줄러의 역할입니다.

<br>

## 목적

스케줄링의 주요 목적은 CPU 시간을 효율적으로 분배하여 시스템의 전반적인 성능을 향상시키고, 프로세스의 대기 시간을 줄이며, 
리소스를 극대화하는 것입니다.

또한, 스케줄링을 통해 시스템의 throughput을 증가시키고, 응답 시간을 줄이는 것도 중요합니다.

<br>

## 스케줄링을 위한 세 가지 큐

1. **Job Queue**
  - 현재 시스템 내에 있는 모든 프로세스의 집합
  - `Secondary Storage` 에 형성되어 있는 큐

2. **Ready Queue**
  - 메모리에 `load` 되어있는 프로세스들
  - 현재 메모리 내에 있으면서 CPU를 잡아서 실행되기를 기다리는 프로세스의 집합

3. **Device Queue**
  - Device I/O 작업을 대기하고 있는 프로세스의 집합
  - `Device Controller (하드웨어)` 에 있는 프로세스

<br>

## Round Robin

1. **특징**
  - 현대적인 CPU 스케줄링
  - 각 프로세스는 동일한 크기의 `할당 시간 (Time Quantum)` 을 갖게 됩니다.
  - 할당 시간이 지나면 프로세스는 선점당하고 `Ready Queue` 의 제일 뒤에 가서 다시 줄을 섭니다.
  - CPU 사용시간이 랜덤한 프로세스들이 섞여있을 경우 효율적입니다.
  - 프로세스의 Context를 저장할 수 있기 때문에 가능합니다.

2. **장점**
  - Response Time이 빨라집니다.
  - `n` 개의 프로세스가 `Ready Queue` 에 있고, 할당 시간이 `q (Time Quantum)` 인 경우, 각 프로세스는
  `q` 단위로 CPU 시간의 `1/n` 을 얻게 됩니다. 즉, 어떤 프로세스도 `(n-1)q time unit` 이상 기다리지 않습니다.
  -프로세스가 기다리는 시간이 CPU를 사용할 만큼 증가합니다.
  - 공정한 스케줄링이라고 할 수 있습니다.

3. **주의점**
  - 설정한 `Time Quantum` 이 너무 커지면 `FCFS (프로세스 선입선출)` 와 같아집니다.
  - 너무 작아지면 잦은 Context Switch로 오버헤드가 발생합니다.
  - 그렇기 때문에 적당한 `Time Quantum` 설정이 중요합니다.